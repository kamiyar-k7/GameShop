@model List<Application.DTOs.UserSide.Home.HomeDto>

@{
    Layout = "_Layout";
  
}


<div class="nk-main">

    <div class="nk-gap-2"></div>



    <div class="container">

        <!-- START: Image Slider -->
        <div class="nk-image-slider" data-autoplay="8000">
            @{
                var topten = Model.OrderByDescending(x => x.ReleaseDate).Take(5);
            }
            @foreach (var Game in topten)
            {


                if (Game.Screenshots.Any())
                {

                    var firstScreenshot = Game.Screenshots.First();
                    <div class="nk-image-slider-item" style="background: url('assets/images/@firstScreenshot') no-repeat center ; background-size:auto;">
                        <img src="/assets/images/GameImages/@firstScreenshot" alt="" class="nk-image-slider-img" data-thumb="/assets/images/@firstScreenshot" style="background: url('assets/images/@firstScreenshot') no-repeat center ; background-size:auto;">
                    
                        <div class="nk-image-slider-content">
                            <h3 class="h4">@Game.Name</h3>
                            <p class="text-white">@Game.Description</p>
                            <a asp-controller="Store" asp-action="Product" asp-route-Id="@Game.Id" class="nk-btn nk-btn-rounded nk-btn-color-white nk-btn-hover-color-main-1">Read More</a>
                        </div>
                    </div>
                }
            }


        </div>
        <!-- END: Image Slider -->
        <!-- START: Categories -->
        <!-- END: Categories -->
        <!-- START: Latest News -->
        <!-- END: Latest News -->

        <div class="nk-gap-2"></div>
        <div class="row vertical-gap">
            <div class="col-lg-8">

                <!-- START: Latest Posts -->
                <!-- END: Latest Posts -->
                <!-- START: Latest Matches -->
                <!-- END: Latest Matches -->
                <!-- START: Tabbed News  -->
                <!-- END: Tabbed News -->
                <!-- START: Latest Pictures -->
                <!-- END: Latest Pictures -->

                <div class="nk-widget">
                    <div class="nk-widget-content">
                        <form action="#" class="nk-form nk-form-style-1" novalidate="novalidate">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Type something...">
                                <button class="nk-btn nk-btn-color-main-1"><span class="ion-search"></span></button>
                            </div>
                        </form>
                    </div>
                </div>



                <!-- START: Our Games -->
                <div class="nk-gap-3"></div>
                <h3 class="nk-decorated-h-2"><span><span class="text-main-1">Our</span> Games</span></h3>
                <div class="nk-gap"></div>
                <div class="row vertical-gap">
                    @{
                        var ordered = Model.OrderByDescending(x => x.ReleaseDate).ToList();
                    }
                    @foreach (var Game in ordered)
                    {

                        <div class="col-md-6">
                            <div class="nk-product-cat">
                                @if (Game.Screenshots.Any())
                                {
                                    var firstscreenshot = Game.Screenshots.First();
                                    <a class="nk-product-image" href="store-product.html">
                                        <img src="assets/images/@firstscreenshot" alt="none" style="background: url('assets/images/@firstscreenshot') no-repeat center fixed; background-size:cover width: 160px; height: 205px;">
                                    </a>
                                }

                                <div class="nk-product-cont">
                                    <h3 class="nk-product-title h5"><a href="store-product.html">@Game.Name</a></h3>
                                    <div class="nk-gap-1"></div>


                                    @{
                                        // Calculate the number of full stars and half star based on the Rating value
                                        int fullStars = (int)Math.Floor(Game.Rating);
                                        bool hasHalfStar = Game.Rating - fullStars >= 0.5;
                                    }

                                    <div class="nk-product-rating" data-rating="@Game.Rating">
                                        @for (int i = 0; i < 5; i++)
                                        {
                                            if (i < fullStars)
                                            {
                                                // Render full star icon
                                                <i class="fa fa-star"></i>
                                            }
                                            else if (hasHalfStar && i == fullStars)
                                            {
                                            // Render half star icon
                                                <i class="fas fa-star-half"></i>
                                            }
                                            else
                                            {
                                            // Render empty star icon
                                                <i class="far fa-star"></i>
                                            }
                                        }
                                    </div>


                                    <div class="nk-gap-1"></div>
                                    <div class="nk-product-price">€ @Game.Price</div>
                                    <div class="nk-gap-1"></div>
                                    <a class="nk-btn nk-btn-rounded nk-btn-color-dark-3 nk-btn-hover-color-main-1">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    }







                </div>
                <!-- END: Our Games -->
            </div>


            <div class="col-lg-4">
                <!--
                    START: Sidebar

                    Additional Classes:
                        .nk-sidebar-left
                        .nk-sidebar-right
                        .nk-sidebar-sticky
                -->
                <aside class="nk-sidebar nk-sidebar-right nk-sidebar-sticky">

                    <div class="nk-widget nk-widget-highlighted">
                        <h4 class="nk-widget-title"><span><span class="text-main-1">We</span> Are Social</span></h4>
                        <div class="nk-widget-content">


                            <ul class="nk-social-links-3 nk-social-links-cols-4">
                                <li><a class="nk-social-twitch" href="#"><span class="fab fa-twitch"></span></a></li>
                                <li><a class="nk-social-instagram" href="#"><span class="fab fa-instagram"></span></a></li>
                                <li><a class="nk-social-steam" href="#"><span class="fab fa-steam"></span></a></li>
                                <li><a class="nk-social-youtube" href="#"><span class="fab fa-youtube"></span></a></li>
                                <li><a class="nk-social-twitter" href="https://twitter.com/nkdevv" target="_blank"><span class="fab fa-twitter"></span></a></li>
                                <li><a class="nk-social-reddit" href="#"><span class="fab fa-reddit"></span></a></li>

                                <!-- Additional Social Buttons
                                    <li><a class="nk-social-behance" href="#"><span class="fab fa-behance"></span></a></li>
                                    <li><a class="nk-social-bitbucket" href="#"><span class="fab fa-bitbucket"></span></a></li>
                                    <li><a class="nk-social-dropbox" href="#"><span class="fab fa-dropbox"></span></a></li>
                                    <li><a class="nk-social-dribbble" href="#"><span class="fab fa-dribbble"></span></a></li>
                                    <li><a class="nk-social-deviantart" href="#"><span class="fab fa-deviantart"></span></a></li>
                                    <li><a class="nk-social-flickr" href="#"><span class="fab fa-flickr"></span></a></li>
                                    <li><a class="nk-social-foursquare" href="#"><span class="fab fa-foursquare"></span></a></li>
                                    <li><a class="nk-social-github" href="#"><span class="fab fa-github"></span></a></li>
                                    <li><a class="nk-social-linkedin" href="#"><span class="fab fa-linkedin"></span></a></li>
                                    <li><a class="nk-social-medium" href="#"><span class="fab fa-medium"></span></a></li>
                                    <li><a class="nk-social-odnoklassniki" href="#"><span class="fab fa-odnoklassniki"></span></a></li>
                                    <li><a class="nk-social-paypal" href="#"><span class="fab fa-paypal"></span></a></li>
                                    <li><a class="nk-social-reddit" href="#"><span class="fab fa-reddit"></span></a></li>
                                    <li><a class="nk-social-skype" href="#"><span class="fab fa-skype"></span></a></li>
                                    <li><a class="nk-social-soundcloud" href="#"><span class="fab fa-soundcloud"></span></a></li>
                                    <li><a class="nk-social-steam" href="#"><span class="fab fa-steam"></span></a></li>
                                    <li><a class="nk-social-slack" href="#"><span class="fab fa-slack"></span></a></li>
                                    <li><a class="nk-social-tumblr" href="#"><span class="fab fa-tumblr"></span></a></li>
                                    <li><a class="nk-social-vimeo" href="#"><span class="fab fa-vimeo"></span></a></li>
                                    <li><a class="nk-social-vk" href="#"><span class="fab fa-vk"></span></a></li>
                                    <li><a class="nk-social-wordpress" href="#"><span class="fab fa-wordpress"></span></a></li>
                                -->

                            </ul>
                        </div>
                    </div>


                    <div class="nk-widget nk-widget-highlighted">
                        <h4 class="nk-widget-title"><span><span class="text-main-1">Most</span> Popular</span></h4>
                        @{
                            // Sort games by Rating in descending order and select the top 5
                            var top5Games = Model.OrderByDescending(g => g.Rating).Take(5);
                        }
                        @foreach (var Game in top5Games)
                        {

                            <div class="nk-widget-content">

                                <div class="nk-widget-post">
                                    @if (Game.Screenshots.Any())
                                    {
                                        var firstscreenshot = Game.Screenshots.First();
                                        <a href="store-product.html" class="nk-post-image">
                                            <img src="assets/images/@firstscreenshot" alt="none" style="background: url('assets/images/@firstscreenshot') no-repeat center fixed; background-size:cover width: 205px; height: 160px;">
                                        </a>
                                    }

                                    <h3 class="nk-post-title"><a href="store-product.html">@Game.Name</a></h3>

                                    <div class="nk-product-rating" data-rating="@Game.Rating">
                                        @{
                                            // Calculate the number of full stars and half star based on the Rating value
                                            int fullStars1 = (int)Math.Floor(Game.Rating);
                                            bool hasHalfStar1 = Game.Rating - fullStars1 >= 0.5;
                                        }
                                        @for (int i = 0; i < 5; i++)
                                        {
                                            if (i < fullStars1)
                                            {
                                                // Render full star icon
                                                <i class="fa fa-star"></i>
                                            }
                                            else if (hasHalfStar1 && i == fullStars1)
                                            {
                                            // Render half star icon
                                                <i class="fas fa-star-half"></i>
                                            }
                                            else
                                            {
                                            // Render empty star icon
                                                <i class="far fa-star"></i>
                                            }
                                        }
                                    </div>
                                    <div class="nk-product-price">€ @Game.Price</div>
                                </div>



                            </div>
                        }

                    </div>






                </aside>
                <!-- END: Sidebar -->
            </div>
        </div>
    </div>

    <div class="nk-gap-4"></div>






</div>


